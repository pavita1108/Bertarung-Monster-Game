package com.monstersaku.util;
import java.util.HashMap;
import java.util.List;
import java.io.File;
import java.io.IOException;


public class ElementType {
    private HashMap<ElementEffectivityKey,Float> map;
    private static ElementType single_instance = null;
    
    public enum TypesOfElmts {
        NORMAL,
        FIRE,
        WATER,
        GRASS;
    }
    private CSVReader monsterReader;

    /*Read CSV File*/
    /*FILE PATHNYA JANGAN LUPA GANTI !!!!*/ 
    private File path = new File("C:/Users/User/Documents/OOP/TUBES_OOP/monster-saku-project-templat/src/main/resources/com/monstersaku/configs/element-type-effectivity-chart.csv");


    private ElementType() throws IOException{
        map = new HashMap<>();
        monsterReader = new CSVReader(path, ",");
        List<String[]> elmtEff = monsterReader.read();
        for (String [] s : elmtEff){
            ElementEffectivityKey source_target = new ElementEffectivityKey(ElementType.TypesOfElmts.valueOf(s[0]),ElementType.TypesOfElmts.valueOf(s[1]));
            map.put(source_target, Float.parseFloat(s[2]));
        }
    }
    public float getEffectivity(ElementEffectivityKey elmtKey){
        return map.get(elmtKey);
    }
    public static ElementType getInstance() throws IOException{
        if (single_instance == null)
            single_instance = new ElementType();
 
        return single_instance;
    }
    
    /* CARA AKSES 
    ElementType.TypesOfElmts.FIRE 
    */
}
